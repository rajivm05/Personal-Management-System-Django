{% load static %}
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta content="width=device-width, initial-scale=1.0" name="viewport">
		<title>Passwords</title>
		<!-- https://stackoverflow.com/questions/6023421/how-to-edit-model-data-using-django-forms -->
		<script src="https://code.jquery.com/jquery-3.1.1.min.js"
        integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
		<link href="{% static 'assets/css/style.css''%}" rel="stylesheet">
		
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

		<!-- Vendor CSS Files -->
		<link href="{% static 'assets/vendor/animate.css/animate.min.css'%}" rel="stylesheet">
		<link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css'%}" rel="stylesheet">
		<link href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css'%}" rel="stylesheet">
		<link href="{% static 'assets/vendor/boxicons/css/boxicons.min.css'%}" rel="stylesheet">
		<link href="{% static 'assets/vendor/glightbox/css/glightbox.min.css'%}" rel="stylesheet">
		<link href="{% static 'assets/vendor/swiper/swiper-bundle.min.css'%}" rel="stylesheet">
		<!-- New nav files -->
		<link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">
		
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
		<link href="{% static 'assets/css/style.css'%}" rel="stylesheet">

		<style>
			.welcomeback
			{
				font-size:20px !important;
				margin-right: 0px;
			}
			.fa-2x {
            	font-size: 1em !important;
            	padding-right:3px !important;
            }
            .welcomeback
            {
            	color:#545454 !important;
            }
            #problematic_a
            {
            	padding-left:115px !important;
            }
        @import url(//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css);
        }
            @import url(https://fonts.googleapis.com/css?family=Titillium+Web:300);
            .fa-2x {
            font-size: 2em;
            }
            .fa {
            position: relative;
            display: table-cell;
            width: 60px;
            height: 36px;
            text-align: center;
            vertical-align: middle;
            font-size:20px;
        }
        .main-menu:hover,nav.main-menu.expanded 
        {
            width:220px;
            overflow:visible;
        }
        .main-menu 
        {
            background:#212121;
            border-right:1px solid #e5e5e5;
            position:absolute;
            top:0;
            bottom:0;
            height:100%;
            left:0;
            width:220px;
            /*overflow:hidden;*/
            -webkit-transition:width .05s linear;
            transition:width .05s linear;
            -webkit-transform:translateZ(0) scale(1,1);
            z-index:1000;
        }
        .main-menu>ul 
        {
            margin:7px 0;
        }
        .main-menu li 
        {
            position:relative;
            display:block;
            width:220px;
        }
        .main-menu li>a 
        {
            position:relative;
            display:table;
            border-collapse:collapse;
            border-spacing:0;
            color:#999;
             font-family: arial;
            font-size: 14px;
            text-decoration:none;
            -webkit-transform:translateZ(0) scale(1,1);
            -webkit-transition:all .1s linear;
            transition:all .1s linear;     
        }
        .main-menu .nav-icon 
        {
            position:relative;
            display:table-cell;
            width:60px;
            height:36px;
            text-align:center;
            vertical-align:middle;
            font-size:18px;
        }
        .main-menu .nav-text 
        {
            position:relative;
            display:table-cell;
            vertical-align:middle;
            width:190px;
            font-family: 'Titillium Web', sans-serif;
        }
        .main-menu>ul.logout 
        {
            position:absolute;
            left:0;
            bottom:0;
        }
        .no-touch .scrollable.hover 
        {
            overflow-y:hidden;
        }
        .no-touch .scrollable.hover:hover 
        {
            overflow-y:auto;
            overflow:visible;
        }
        a:hover,a:focus 
        {
            text-decoration:none;
        }
        nav 
        {
            -webkit-user-select:none;
            -moz-user-select:none;
            -ms-user-select:none;
            -o-user-select:none;
            user-select:none;
            /*height:100%;*/
        }

        nav ul,nav li 
        {
            outline:0;
            margin:0;
            padding:0;
        }
        .main-menu li:hover>a,nav.main-menu li.active>a,.dropdown-menu>li>a:hover,.dropdown-menu>li>a:focus,.dropdown-menu>.active>a,.dropdown-menu>.active>a:hover,.dropdown-menu>.active>a:focus,.no-touch .dashboard-page nav.dashboard-menu ul li:hover a,.dashboard-page nav.dashboard-menu ul li.active a 
        {
            color:#fff;
            background-color:#5fa2db;
        }
        .area 
        {
            margin-left:3.7rem;
            background-color:#d2e9f6; 
            height: 100%;
        }
        @font-face 
        {
            font-family: 'Titillium Web';
            font-style: normal;
            font-weight: 300;
            src: local('Titillium WebLight'), local('TitilliumWeb-Light'), url(http://themes.googleusercontent.com/static/fonts/titilliumweb/v2/anMUvcNT0H1YN4FII8wpr24bNCNEoFTpS2BTjF6FB5E.woff) format('woff');
        }
    	</style>
    	<!-- main content style -->
		<style type="text/css">
			.formclass
			{
				border: 1px solid #000000;
			}
			.formdiv
			{
				display:none;
			}
			body {
		 		 font-family: "lato", sans-serif;
		}

		.container {
		  max-width: 1000px;
		  margin-left: auto;
		  margin-right: auto;
		  padding-left: 10px;
		  padding-right: 10px;
		}

		h2 {
		  font-size: 26px;
		  margin: 20px 0;
		  text-align: center;
		}
		h2 small {
		  font-size: 0.5em;
		}

		.responsive-table li {
		  border-radius: 3px;
		  padding: 25px 30px;
		  display: flex;
		  justify-content: space-between;
		  margin-bottom: 25px;
		}
		.responsive-table .table-header {
		  background-color: rgb(149,179,171);
		  font-size: 14px;
		  text-transform: uppercase;
		  letter-spacing: 0.03em;
		}
		.responsive-table .table-row {
		  background-color: #ffffff;
		  box-shadow: 0px 0px 9px 0px rgba(0, 0, 0, 0.1);
		}
		.responsive-table .col-1 {
		  flex-basis: 25%;
		}
		.responsive-table .col-2 {
		  flex-basis: 30%;
		}
		.responsive-table .col-3 {
		  flex-basis: 25%;
		}
		.responsive-table .col-4 {
		  flex-basis: 15%;
		}
		@media all and (max-width: 767px) {
		  .responsive-table .table-header {
		    display: none;
		  }
		  .responsive-table li {
		    display: block;
		  }
		  .responsive-table .col {
		    flex-basis: 100%;
		  }
		  .responsive-table .col {
		    display: flex;
		    padding: 10px 0;
		  }
		  .responsive-table .col:before {
		    color: #6C7A89;
		    padding-right: 10px;
		    content: attr(data-label);
		    flex-basis: 50%;
		    text-align: right;
		  }
		}
		.tabular-password
		{
			/*overflow-y: scroll;*/
			min-height: 100%;
			margin-right:2rem;
		}
		.bigcontainer
		{
			align-items:center;
			justify-content: center;
			overflow-y: scroll;
			max-height: 85%;
			max-width: 85%
			/*border:2px solid black;*/
		}
		#add_password
		{
			float: right;
		}
		</style>
	</head>
	<body>
		<header id="header" class="d-flex align-items-center">
			<div class="container d-flex justify-content-between align-items-center">
				<div class="logo">
					<h1>
						<a id="problematic_a" href="/">Personal Management System</a>
					</h1>
				</div>
				<div id="navbar_div" class="navbar_div">
					<a class="welcomeback" href="/"><i class="fa fa-user fa-2x" aria-hidden="true"></i>Welcome back {{request.user.username|title}}!</a>
				</div>
			</div>
		</header>

		<!-- Side navbar -->
		<nav class="main-menu">
			<img class="mainmenu-icon" src="{% static 'mainmenulogo.png'%}"	 alt=""></img>
            <ul>
                <li>
                    <a href="/">
                        <i class="fa fa-home fa-2x"></i>
                        <span class="nav-text">
                            Home
                        </span>
                    </a>
                </li>

                <li>
                    <a href="{% url 'dashboard:dashboard_page' %}">
                        <i class="fa fa-tachometer fa-2x"></i>
                        <span class="nav-text">
                            Dashboard
                        </span>
                    </a>
                  
                </li>
                <li class="has-subnav">
                    <a href="/todolist">
                        <i class="fa fa-list fa-2x"></i>
                        <span class="nav-text">
                            To-Do List
                        </span>
                    </a>
                    
                </li>
                <li class="has-subnav">
                    <a href="#">
                       <i class="fa fa-calendar fa-2x"></i>
                        <span class="nav-text">
                            Schedule
                        </span>
                    </a>
                </li>
                <li class="has-subnav">
                    <a href="/passwords">
                       <i class="fa fa-laptop fa-2x"></i>
                        <span class="nav-text">
                            Passwords
                        </span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fa fa-credit-card fa-2x"></i>
                        <span class="nav-text">
                            Bills and Payments
                        </span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fa fa-exclamation fa-2x"></i>
                        <span class="nav-text">
                           Issues
                        </span>
                    </a>
                </li>
                <li>
                   <a href="{% url 'accounts:change_password' %}">
                       <i class="fa fa-wrench fa-2x"></i>
                        <span class="nav-text">
                            Change Password
                        </span>
                    </a>
                </li>
                <li>
                   <a href="{% url 'accounts:change_profile' %}">
                        <i class="fa fa-user fa-2x"></i>
                        <span class="nav-text">
                            Change Profile
                        </span>
                    </a>
                </li>
                <li>
                    <a href="{% url 'accounts:change_email' %}">
                       <i class="fa fa-cog fa-2x"></i>
                        <span class="nav-text">
                            Change Email
                        </span>
                    </a>
                </li> 
            </ul>
            <ul class="logout">
                <li>
                   <a href="{% url 'accounts:log_out' %}">
                         <i class="fa fa-power-off fa-2x"></i>
                        <span class="nav-text">
                            Logout
                        </span>
                    </a>
                </li>  
            </ul>
        </nav>

		<div class="formdiv">
			<form method="POST" class="formclass"autocomplete="off">{% csrf_token %}
				{{form.as_p}}
				<input type="checkbox" id="box" onclick ="reveal()">Show Password</input><br>
				<input type="Submit" name="Submit" value="Submit"/>
			</form>
		</div>
		<div class="bigcontainer">
			<div class="container tabular-password">
			  <h2>User Passwords</h2>
			  <ul class="responsive-table">
			    <li class="table-header">
			      <div class="col col-1">Website URL/App Name</div>
			      <div class="col col-2">Login ID</div>
			      <div class="col col-3">Password</div>
			      <div class="col col-4">Action</div>
			    </li>
			    {% for password in userPasswords%}
				    <li class="table-row">
				      <div class="col col-1" data-label="Job Id">{{password.websiteAppName}}</div>
				      <div class="col col-2" data-label="Customer Name">{{password.loginId}}</div>
				      <div class="col col-3" data-label="Amount"><!-- {{password.password}} -->
				      	<input type="password" readonly value="{{password.password}}">
				      </div>
				      <div class="col col-4" data-label="Payment Status">Buttons come here</div>
				    </li>
			    {% endfor %}
			  </ul>
			</div>
		</div>
	</body>
</html>
<script type="text/javascript">
	function reveal()
	{
		if(document.getElementById('box').checked)
		   {document.getElementById("id_password").type='text';}
		else
			document.getElementById("id_password").type='password';
	}
</script>   

